<div *ngIf="isCalendarOpen" (click)="overlayClicked()" class="daterange__overlay"></div>

<app-date-input
  [ngClass]="{'date-input--raised': isCalendarOpen}"
  class="date-input"
  [(startDate)]="startDate"
  [(endDate)]="endDate"
  (OnToggleCalendar)="toggleCalendar()"
  (OnApplyDateRange)="onApply()"
  (OnFocus)="openCalendar()"
  [isValidRange]="isValid"
  [dateFormat]="dateFormat"
  [showApplyButton]="showApplyButton"
  >
</app-date-input>

<ng-container *ngIf="!isCalendarOpen">
  <p
    [ngClass]="{ 'datepickerrange_msg--warn': !isValid }"
    *ngFor="let m of msg">
    {{ m }}
  </p>
</ng-container>

<ng-container *ngIf="isCalendarOpen">
  <app-daterange
    class="daterange"
    [startDate]="startDate"
    (startDateChange)="onStartDateChange($event)"
    [endDate]="endDate"
    (endDateChange)="onEndDateChange($event)"
    [isValid]="isValid"
    [msg]="msg"
    [dateFormat]="dateFormat"
    [rangeStart]="rangeStart"
    [rangeEnd]="rangeEnd"
    [dateTest]="dateTest"
    [ranges]="ranges"
    (OnSelectedDaterange)="onApply()"
    (OnCloseCalendar)="closeCalendar()"
    >
  </app-daterange>
</ng-container>
